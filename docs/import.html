<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 2 Data Acquisition | A Minimal Book Example</title>
  <meta name="description" content="An analysis of data from the College Scorecard API, which focuses on differences identified between institutions with R1 and R2 carnegie classifications." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 2 Data Acquisition | A Minimal Book Example" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="An analysis of data from the College Scorecard API, which focuses on differences identified between institutions with R1 and R2 carnegie classifications." />
  <meta name="github-repo" content="KalaniStanton/CollegeScorecardProjectBook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 2 Data Acquisition | A Minimal Book Example" />
  
  <meta name="twitter:description" content="An analysis of data from the College Scorecard API, which focuses on differences identified between institutions with R1 and R2 carnegie classifications." />
  

<meta name="author" content="Sara Haman, Adam Lashley, Reilly Stanton, Benjamin Weisman" />


<meta name="date" content="2020-10-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html"/>
<link rel="next" href="clean.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="import.html"><a href="import.html"><i class="fa fa-check"></i><b>2</b> Data Acquisition</a><ul>
<li class="chapter" data-level="2.1" data-path="import.html"><a href="import.html#set-up-and-api-exploration"><i class="fa fa-check"></i><b>2.1</b> Set-up and API Exploration</a><ul>
<li class="chapter" data-level="2.1.1" data-path="import.html"><a href="import.html#project-directory-management"><i class="fa fa-check"></i><b>2.1.1</b> Project Directory Management</a></li>
<li class="chapter" data-level="2.1.2" data-path="import.html"><a href="import.html#api-exploration"><i class="fa fa-check"></i><b>2.1.2</b> API Exploration</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="import.html"><a href="import.html#the-rscorecard-and-tidyverse-approach"><i class="fa fa-check"></i><b>2.2</b> The <code>rscorecard</code> and <code>tidyverse</code> approach</a><ul>
<li class="chapter" data-level="2.2.1" data-path="import.html"><a href="import.html#finances"><i class="fa fa-check"></i><b>2.2.1</b> Finances</a></li>
<li class="chapter" data-level="2.2.2" data-path="import.html"><a href="import.html#demographics"><i class="fa fa-check"></i><b>2.2.2</b> Demographics</a></li>
<li class="chapter" data-level="2.2.3" data-path="import.html"><a href="import.html#death"><i class="fa fa-check"></i><b>2.2.3</b> Death</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="clean.html"><a href="clean.html"><i class="fa fa-check"></i><b>3</b> Data Clean</a></li>
<li class="chapter" data-level="4" data-path="analysis.html"><a href="analysis.html"><i class="fa fa-check"></i><b>4</b> Analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="analysis.html"><a href="analysis.html#import-1"><i class="fa fa-check"></i><b>4.1</b> Import</a></li>
<li class="chapter" data-level="4.2" data-path="analysis.html"><a href="analysis.html#transform-datasets"><i class="fa fa-check"></i><b>4.2</b> Transform Datasets</a></li>
<li class="chapter" data-level="4.3" data-path="analysis.html"><a href="analysis.html#descriptive-time"><i class="fa fa-check"></i><b>4.3</b> Descriptive time!</a></li>
<li class="chapter" data-level="4.4" data-path="analysis.html"><a href="analysis.html#wilcox-for-skewed-bois"><i class="fa fa-check"></i><b>4.4</b> Wilcox for skewed bois</a></li>
<li class="chapter" data-level="4.5" data-path="analysis.html"><a href="analysis.html#main-model"><i class="fa fa-check"></i><b>4.5</b> Main model</a><ul>
<li class="chapter" data-level="4.5.1" data-path="analysis.html"><a href="analysis.html#decomposition"><i class="fa fa-check"></i><b>4.5.1</b> Decomposition</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>5</b> Discussion</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Minimal Book Example</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="import" class="section level1">
<h1><span class="header-section-number">Section 2</span> Data Acquisition</h1>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="import.html#cb3-1"></a><span class="kw">library</span>(plyr)</span>
<span id="cb3-2"><a href="import.html#cb3-2"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb3-3"><a href="import.html#cb3-3"></a><span class="kw">library</span>(Hmisc)</span>
<span id="cb3-4"><a href="import.html#cb3-4"></a><span class="kw">library</span>(httr)</span>
<span id="cb3-5"><a href="import.html#cb3-5"></a><span class="kw">library</span>(jsonlite)</span>
<span id="cb3-6"><a href="import.html#cb3-6"></a><span class="co">#install.packages(&quot;tmap&quot;)</span></span>
<span id="cb3-7"><a href="import.html#cb3-7"></a><span class="kw">library</span>(tmap)</span>
<span id="cb3-8"><a href="import.html#cb3-8"></a><span class="kw">library</span>(leaflet)</span>
<span id="cb3-9"><a href="import.html#cb3-9"></a><span class="kw">library</span>(treemap)</span>
<span id="cb3-10"><a href="import.html#cb3-10"></a><span class="kw">library</span>(kableExtra)</span>
<span id="cb3-11"><a href="import.html#cb3-11"></a></span>
<span id="cb3-12"><a href="import.html#cb3-12"></a><span class="st">`</span><span class="dt">%notin%</span><span class="st">`</span> &lt;-<span class="st"> </span><span class="kw">Negate</span>(<span class="st">`</span><span class="dt">%in%</span><span class="st">`</span>)</span>
<span id="cb3-13"><a href="import.html#cb3-13"></a></span>
<span id="cb3-14"><a href="import.html#cb3-14"></a>MakePretty &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</span>
<span id="cb3-15"><a href="import.html#cb3-15"></a>  x <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kbl</span>(<span class="dt">align =</span> <span class="st">&quot;c&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">kable_material</span>()</span>
<span id="cb3-16"><a href="import.html#cb3-16"></a>}</span></code></pre></div>
<div id="set-up-and-api-exploration" class="section level2">
<h2><span class="header-section-number">2.1</span> Set-up and API Exploration</h2>
<p>For our project, we wanted to practice using API to pass the data into our global environment and attempt to explore and extract our desired variables using base R.</p>
<p>As you will see, our attempt failed, but was useful in helping us understand the relational structure of the College Scorecard Data and the limits of simple indexing when dealing with complicated data structures.</p>
<div id="project-directory-management" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Project Directory Management</h3>
<p>Prior to extracting any of the data, we want to ensure that our project is reproducible. Thus, we first create a sub-directory within the user’s working directory, which will hold the .csv files we will write containing our variables of interest.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="import.html#cb4-1"></a>proj.dir &lt;-<span class="st"> </span><span class="kw">getwd</span>()</span>
<span id="cb4-2"><a href="import.html#cb4-2"></a><span class="co">#dir.create(&quot;Proj1Data&quot;)</span></span>
<span id="cb4-3"><a href="import.html#cb4-3"></a>data.dir &lt;-<span class="st"> </span><span class="kw">paste0</span>(proj.dir, <span class="st">&quot;/Proj1Data&quot;</span>)</span></code></pre></div>
<p>Next, we pass the API key into an object so that it can be called in the <code>GET()</code> function, which pulls the data from the API into out global environment.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="import.html#cb5-1"></a>APIKey =<span class="st"> &quot;FELgrGb47PaevTWxqZTt6etFaQVnDbKpcJLaPL6a&quot;</span></span>
<span id="cb5-2"><a href="import.html#cb5-2"></a>res =<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(<span class="st">&quot;https://api.data.gov/ed/collegescorecard/v1/schools?api_key=&quot;</span>, APIKey))</span></code></pre></div>
<p>This data is initially in a <code>raw</code> format that is pulled from a JSON file stored on the API servers. To do this, we first convert the <code>raw</code> data to <code>char</code> and call the <code>fromJSON()</code> function to convert the data to a more “R friendly” data structure.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="import.html#cb6-1"></a>data =<span class="st"> </span><span class="kw">fromJSON</span>(<span class="kw">rawToChar</span>(res<span class="op">$</span>content))</span>
<span id="cb6-2"><a href="import.html#cb6-2"></a><span class="kw">is</span>(data)</span></code></pre></div>
<pre><code>## [1] &quot;list&quot;   &quot;vector&quot;</code></pre>
<p>Now that this raw JSON file is converted to a list, we can begin our exploration of the data.</p>
</div>
<div id="api-exploration" class="section level3">
<h3><span class="header-section-number">2.1.2</span> API Exploration</h3>
<p>We originally intended on using <code>list2env(yearsLi, envir = .GlobalEnv)</code> to split the list into multiple <code>data.frame</code> objects, but the fact that the names of the listed data frames are numeric values will be a problem. When calling these data frames, R will have to decide whether the user input 2012 is calling the <code>data$2012</code> data set, or the number <code>2012</code>. This is likely to cause problems in our later analysis, so we have to look at the <code>names()</code> of objects in our <code>data</code> list to see how we might adjust our approach to exploring the data.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="import.html#cb8-1"></a><span class="kw">names</span>(data<span class="op">$</span>results)</span></code></pre></div>
<pre><code>##  [1] &quot;2012&quot;     &quot;2011&quot;     &quot;2010&quot;     &quot;2009&quot;     &quot;1998&quot;     &quot;2008&quot;    
##  [7] &quot;1997&quot;     &quot;2007&quot;     &quot;1996&quot;     &quot;2006&quot;     &quot;2005&quot;     &quot;school&quot;  
## [13] &quot;2004&quot;     &quot;2003&quot;     &quot;2002&quot;     &quot;id&quot;       &quot;latest&quot;   &quot;1999&quot;    
## [19] &quot;2001&quot;     &quot;2000&quot;     &quot;2018&quot;     &quot;ope6_id&quot;  &quot;2017&quot;     &quot;2016&quot;    
## [25] &quot;2015&quot;     &quot;2014&quot;     &quot;2013&quot;     &quot;ope8_id&quot;  &quot;location&quot;</code></pre>
<p>Upon looking at the <code>names()</code> we noticed that not all of the listed data frames are named after years, and thus are likely contain different data than the others.</p>
<p>Therefore, we first extract the non-year data frames, prior to extracting the year data frames with a character alteration (to make them non-numeric),</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="import.html#cb10-1"></a>id_data &lt;-<span class="st"> </span>data<span class="op">$</span>results[<span class="kw">c</span>(<span class="st">&quot;school&quot;</span>, <span class="st">&quot;id&quot;</span>, <span class="st">&quot;location&quot;</span>, <span class="st">&quot;ope6_id&quot;</span>, <span class="st">&quot;ope8_id&quot;</span>)]</span>
<span id="cb10-2"><a href="import.html#cb10-2"></a></span>
<span id="cb10-3"><a href="import.html#cb10-3"></a>yearsLi&lt;-<span class="st"> </span>data<span class="op">$</span>results[<span class="kw">names</span>(data<span class="op">$</span>results) <span class="op">%notin%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;school&quot;</span>, <span class="st">&quot;id&quot;</span>, <span class="st">&quot;location&quot;</span>, <span class="st">&quot;ope6_id&quot;</span>, <span class="st">&quot;ope8_id&quot;</span>)]</span>
<span id="cb10-4"><a href="import.html#cb10-4"></a></span>
<span id="cb10-5"><a href="import.html#cb10-5"></a><span class="kw">names</span>(yearsLi) &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;yr&quot;</span>, <span class="kw">names</span>(yearsLi))</span>
<span id="cb10-6"><a href="import.html#cb10-6"></a></span>
<span id="cb10-7"><a href="import.html#cb10-7"></a><span class="co">#list2env(yearsLi, envir = .GlobalEnv)</span></span></code></pre></div>
<p>At this point, we then called <code>list2env(data$results, envir = .GlobalEnv)</code> to create individual dataframes of each object in the <code>yearsLi</code> list, which helped us understand what was happening at different levels of the data structure, but ultimately left us more confused about how we should approach querying this data.</p>
<p>This code, as well as the code we used to analyze these objects below, is commented it out because it creates an unnecessary number of objects in the global environment, but retained in this document to show the attempts we made at exploring the data structure.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="import.html#cb11-1"></a><span class="co">#</span></span>
<span id="cb11-2"><a href="import.html#cb11-2"></a><span class="co">#names(yr2012)</span></span>
<span id="cb11-3"><a href="import.html#cb11-3"></a><span class="co">#contents(id_data$school)</span></span>
<span id="cb11-4"><a href="import.html#cb11-4"></a><span class="co">#contents(yr2012$academics$program$bachelors)</span></span>
<span id="cb11-5"><a href="import.html#cb11-5"></a><span class="co">#yr2012$academics$program$bachelors</span></span>
<span id="cb11-6"><a href="import.html#cb11-6"></a><span class="co">#length(id_data$ope8_id)</span></span></code></pre></div>
<p>At this point, the challenge of collecting data directly from the API seemed insurmountable, but we sought a solution and turned to the sage of all data science obstacles: Google.</p>
</div>
</div>
<div id="the-rscorecard-and-tidyverse-approach" class="section level2">
<h2><span class="header-section-number">2.2</span> The <code>rscorecard</code> and <code>tidyverse</code> approach</h2>
<p>As expected, we found out savior in the annals of algorithmic wisdom when we stumbled upon a package called {rscorecard}.</p>
<p>The {rscorecard} package is a wrapper for the College Scorecard API that takes full advantage of the complexity in this relational data structure by employing useful tools from the tidyverse eco-system. Using {dplyr} functions, specified to this data set, and pipe operators <code>%&gt;%</code> from {magrittr}, the {rscorecard} package provides an astonishingly simple solution for querying data directly from the API.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="import.html#cb12-1"></a><span class="co">#install.packages(&quot;rscorecard&quot;)</span></span>
<span id="cb12-2"><a href="import.html#cb12-2"></a><span class="kw">library</span>(rscorecard)</span></code></pre></div>
<p>The package works by accessing the API directly using the users API key as an argument in the <code>sc_key()</code> function.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="import.html#cb13-1"></a><span class="kw">sc_key</span>(APIKey)</span></code></pre></div>
<pre><code>## DATAGOV_API_KEY environment variable now set. You may now use sc_get() without specifying a key.</code></pre>
<p>As the message above states, once the API key is accessed, the user can append querying functions like <code>sc_filter()</code>, to collect observations that satisfy booleans, <code>sc_select()</code>, to subset the data by columns, and <code>sc_year()</code>, to select the data from a specified year.</p>
<p>These functions are mentioned and explained here because they what we use to extract data on <strong>Finances</strong>, <strong>Demographics</strong>, and <strong>Death Rates</strong> from schools that classify as <strong>R1</strong> and <strong>R2</strong> research institutions.</p>
<div id="finances" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Finances</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="import.html#cb15-1"></a>F_latest &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb15-2"><a href="import.html#cb15-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb15-3"><a href="import.html#cb15-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, npt4_pub, npt4_priv, costt4_a, grad_debt_mdn, avgfacsal, unemp_rate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-4"><a href="import.html#cb15-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="st">&quot;latest&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb15-5"><a href="import.html#cb15-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="import.html#cb20-1"></a>F_<span class="dv">2018</span> &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb20-2"><a href="import.html#cb20-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb20-3"><a href="import.html#cb20-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, npt4_pub, npt4_priv, costt4_a, grad_debt_mdn, avgfacsal, unemp_rate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb20-4"><a href="import.html#cb20-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="dv">2018</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb20-5"><a href="import.html#cb20-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="import.html#cb25-1"></a>F_<span class="dv">2017</span> &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb25-2"><a href="import.html#cb25-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb25-3"><a href="import.html#cb25-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, npt4_pub, npt4_priv, costt4_a, grad_debt_mdn, avgfacsal, unemp_rate) <span class="op">%&gt;%</span></span>
<span id="cb25-4"><a href="import.html#cb25-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="dv">2017</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb25-5"><a href="import.html#cb25-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="import.html#cb30-1"></a>F_<span class="dv">2016</span> &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb30-2"><a href="import.html#cb30-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb30-3"><a href="import.html#cb30-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, npt4_pub, npt4_priv, costt4_a, grad_debt_mdn, avgfacsal, unemp_rate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb30-4"><a href="import.html#cb30-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="dv">2016</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb30-5"><a href="import.html#cb30-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="import.html#cb35-1"></a>F_<span class="dv">2015</span> &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb35-2"><a href="import.html#cb35-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb35-3"><a href="import.html#cb35-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, npt4_pub, npt4_priv, costt4_a, grad_debt_mdn, avgfacsal, unemp_rate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb35-4"><a href="import.html#cb35-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="dv">2015</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb35-5"><a href="import.html#cb35-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="import.html#cb40-1"></a>F_latest <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="st">&quot;latest&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 11
##    control instnm ccbasic stabbr npt4_pub npt4_priv costt4_a grad_debt_mdn
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;     &lt;int&gt;     &lt;int&gt;    &lt;int&gt;         &lt;dbl&gt;
##  1       1 India~      16 IN        10987        NA    20704         22343
##  2       1 Unive~      15 KS        18571        NA    24996         21105
##  3       2 Bosto~      15 MA           NA     33562    70588         16939
##  4       1 Oakla~      16 MI        11560        NA    21231         25000
##  5       1 Unive~      15 MS        13857        NA    24822         19500
##  6       1 Misso~      16 MO        14205        NA    22012         24750
##  7       2 Washi~      15 MO           NA     27427    71975         16075
##  8       1 Monta~      15 MT        18036        NA    20464         23500
##  9       1 Unive~      16 NE        13511        NA    18849         20250
## 10       1 Unive~      15 NV        10551        NA    17582         18750
## # ... with 256 more rows, and 3 more variables: avgfacsal &lt;int&gt;,
## #   unemp_rate &lt;dbl&gt;, year &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="import.html#cb42-1"></a>F_<span class="dv">2018</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2018</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 11
##    control instnm ccbasic stabbr npt4_pub npt4_priv costt4_a grad_debt_mdn
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;     &lt;int&gt;     &lt;int&gt;    &lt;int&gt; &lt;lgl&gt;        
##  1       1 India~      16 IN        10987        NA    20704 NA           
##  2       1 Unive~      15 KS        18571        NA    24996 NA           
##  3       2 Bosto~      15 MA           NA     33562    70588 NA           
##  4       1 Oakla~      16 MI        11560        NA    21231 NA           
##  5       1 Unive~      15 MS        13857        NA    24822 NA           
##  6       1 Misso~      16 MO        14205        NA    22012 NA           
##  7       2 Washi~      15 MO           NA     27427    71975 NA           
##  8       1 Monta~      15 MT        18036        NA    20464 NA           
##  9       1 Unive~      16 NE        13511        NA    18849 NA           
## 10       1 Unive~      15 NV        10551        NA    17582 NA           
## # ... with 256 more rows, and 3 more variables: avgfacsal &lt;int&gt;,
## #   unemp_rate &lt;lgl&gt;, year &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="import.html#cb44-1"></a>F_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2017</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 11
##    control instnm ccbasic stabbr npt4_pub npt4_priv costt4_a grad_debt_mdn
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;     &lt;int&gt;     &lt;int&gt;    &lt;int&gt;         &lt;dbl&gt;
##  1       1 India~      16 IN        12021        NA    20352         22343
##  2       1 Unive~      15 KS        18814        NA    24824         21105
##  3       2 Bosto~      15 MA           NA     34550    68039         16939
##  4       1 Oakla~      16 MI        12779        NA    21262         25000
##  5       1 Unive~      15 MS        13929        NA    23606         19500
##  6       1 Misso~      16 MO        14473        NA    22045         24750
##  7       2 Washi~      15 MO           NA     28540    69754         16075
##  8       1 Monta~      15 MT        17754        NA    19980         23500
##  9       1 Unive~      16 NE        13173        NA    17935         20250
## 10       1 Unive~      15 NV        10555        NA    16964         18750
## # ... with 256 more rows, and 3 more variables: avgfacsal &lt;int&gt;,
## #   unemp_rate &lt;lgl&gt;, year &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="import.html#cb46-1"></a>F_<span class="dv">2016</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2016</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 11
##    control instnm ccbasic stabbr npt4_pub npt4_priv costt4_a grad_debt_mdn
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;     &lt;int&gt;     &lt;int&gt;    &lt;int&gt;         &lt;dbl&gt;
##  1       1 India~      16 IN        12417        NA    20451        22668.
##  2       1 Unive~      15 KS        18234        NA    23687        20500 
##  3       2 Bosto~      15 MA           NA     34356    65595        19000 
##  4       1 Oakla~      16 MI        12415        NA    20502        25000 
##  5       1 Unive~      15 MS        14494        NA    23372        19500 
##  6       1 Misso~      16 MO        14303        NA    21698        24250 
##  7       2 Washi~      15 MO           NA     29957    67751        19500 
##  8       1 Monta~      15 MT        17050        NA    19441        23505 
##  9       1 Unive~      16 NE        12899        NA    17712        19500 
## 10       1 Unive~      15 NV        10726        NA    17131        18500 
## # ... with 256 more rows, and 3 more variables: avgfacsal &lt;int&gt;,
## #   unemp_rate &lt;lgl&gt;, year &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="import.html#cb48-1"></a>F_<span class="dv">2015</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2015</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 11
##    control instnm ccbasic stabbr npt4_pub npt4_priv costt4_a grad_debt_mdn
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;     &lt;int&gt;     &lt;int&gt;    &lt;int&gt;         &lt;dbl&gt;
##  1       1 India~      16 IN        12861        NA    20257        23000 
##  2       1 Unive~      15 KS        18755        NA    23733        20454 
##  3       2 Bosto~      15 MA           NA     33661    62968        19000 
##  4       1 Oakla~      16 MI        11929        NA    19475        25000 
##  5       1 Unive~      15 MS        14284        NA    22704        19500 
##  6       1 Misso~      16 MO        14096        NA    21793        24266.
##  7       2 Washi~      15 MO           NA     32873    65887        19500 
##  8       1 Monta~      15 MT        16809        NA    18961        23683 
##  9       1 Unive~      16 NE        12505        NA    17148        19032 
## 10       1 Unive~      15 NV        10915        NA    16791        18750 
## # ... with 256 more rows, and 3 more variables: avgfacsal &lt;int&gt;,
## #   unemp_rate &lt;lgl&gt;, year &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="import.html#cb50-1"></a>Finance &lt;-<span class="st"> </span><span class="kw">rbind</span>(F_latest, F_<span class="dv">2018</span>, F_<span class="dv">2017</span>, F_<span class="dv">2016</span>, F_<span class="dv">2015</span>)</span></code></pre></div>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="import.html#cb51-1"></a><span class="kw">write.csv</span>(Finance, <span class="st">&quot;Proj1Data/Financials15to19.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="demographics" class="section level3">
<h3><span class="header-section-number">2.2.2</span> Demographics</h3>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="import.html#cb52-1"></a>D_latest &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb52-2"><a href="import.html#cb52-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb52-3"><a href="import.html#cb52-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr,female, first_gen, poverty_rate, veteran, unemp_rate, ugds_white, ugds_black, ugds_hisp, ugds_asian, ugds_aian, ugds_nhpi, ugds_2mor, ugds_nra, ugds_unkn, ugds_whitenh, ugds_blacknh, ugds_api, ugds_aianold, ugds_hispold) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb52-4"><a href="import.html#cb52-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="st">&quot;latest&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb52-5"><a href="import.html#cb52-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="import.html#cb57-1"></a>D_<span class="dv">2018</span> &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb57-2"><a href="import.html#cb57-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb57-3"><a href="import.html#cb57-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, female, first_gen, poverty_rate, veteran, unemp_rate, ugds_white, ugds_black, ugds_hisp, ugds_asian, ugds_aian, ugds_nhpi, ugds_2mor, ugds_nra, ugds_unkn, ugds_whitenh, ugds_blacknh, ugds_api, ugds_aianold, ugds_hispold) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb57-4"><a href="import.html#cb57-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="dv">2018</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb57-5"><a href="import.html#cb57-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="import.html#cb62-1"></a>D_<span class="dv">2017</span> &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb62-2"><a href="import.html#cb62-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb62-3"><a href="import.html#cb62-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, female, first_gen, poverty_rate, veteran, unemp_rate, ugds_white, ugds_black, ugds_hisp, ugds_asian, ugds_aian, ugds_nhpi, ugds_2mor, ugds_nra, ugds_unkn, ugds_whitenh, ugds_blacknh, ugds_api, ugds_aianold, ugds_hispold) <span class="op">%&gt;%</span></span>
<span id="cb62-4"><a href="import.html#cb62-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="dv">2017</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb62-5"><a href="import.html#cb62-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="import.html#cb67-1"></a>D_<span class="dv">2016</span> &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb67-2"><a href="import.html#cb67-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb67-3"><a href="import.html#cb67-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, female, first_gen, poverty_rate, veteran, unemp_rate, ugds_white, ugds_black, ugds_hisp, ugds_asian, ugds_aian, ugds_nhpi, ugds_2mor, ugds_nra, ugds_unkn, ugds_whitenh, ugds_blacknh, ugds_api, ugds_aianold, ugds_hispold) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb67-4"><a href="import.html#cb67-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="dv">2016</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb67-5"><a href="import.html#cb67-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="import.html#cb72-1"></a>D_<span class="dv">2015</span> &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb72-2"><a href="import.html#cb72-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb72-3"><a href="import.html#cb72-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, female, first_gen, poverty_rate, veteran, unemp_rate, ugds_white, ugds_black, ugds_hisp, ugds_asian, ugds_aian, ugds_nhpi, ugds_2mor, ugds_nra, ugds_unkn, ugds_whitenh, ugds_blacknh, ugds_api, ugds_aianold, ugds_hispold) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-4"><a href="import.html#cb72-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="dv">2015</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb72-5"><a href="import.html#cb72-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="import.html#cb77-1"></a>D_latest <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="st">&quot;latest&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 24
##    control instnm ccbasic stabbr female first_gen poverty_rate  veteran
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;     &lt;dbl&gt;        &lt;dbl&gt;    &lt;dbl&gt;
##  1       1 India~      16 IN      0.610     0.351         6.20  0.00394
##  2       1 Unive~      15 KS      0.548     0.222         5.24  0.00429
##  3       2 Bosto~      15 MA      0.519     0.132         5.93 NA      
##  4       1 Oakla~      16 MI      0.608     0.324         5.74  0.00231
##  5       1 Unive~      15 MS      0.608     0.235        12.2   0.00176
##  6       1 Misso~      16 MO      0.241     0.225         7.31 NA      
##  7       2 Washi~      15 MO      0.534     0.114         6.17 NA      
##  8       1 Monta~      15 MT      0.493     0.233         8.58  0.00493
##  9       1 Unive~      16 NE      0.561     0.348         5.36  0.00304
## 10       1 Unive~      15 NV      0.597     0.423         7.25  0.00521
## # ... with 256 more rows, and 16 more variables: unemp_rate &lt;dbl&gt;,
## #   ugds_white &lt;dbl&gt;, ugds_black &lt;dbl&gt;, ugds_hisp &lt;dbl&gt;, ugds_asian &lt;dbl&gt;,
## #   ugds_aian &lt;dbl&gt;, ugds_nhpi &lt;dbl&gt;, ugds_2mor &lt;dbl&gt;, ugds_nra &lt;dbl&gt;,
## #   ugds_unkn &lt;dbl&gt;, ugds_whitenh &lt;lgl&gt;, ugds_blacknh &lt;lgl&gt;, ugds_api &lt;lgl&gt;,
## #   ugds_aianold &lt;lgl&gt;, ugds_hispold &lt;lgl&gt;, year &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="import.html#cb79-1"></a>D_<span class="dv">2018</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2018</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 24
##    control instnm ccbasic stabbr female first_gen poverty_rate veteran
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  &lt;lgl&gt;  &lt;lgl&gt;     &lt;lgl&gt;        &lt;lgl&gt;  
##  1       1 India~      16 IN     NA     NA        NA           NA     
##  2       1 Unive~      15 KS     NA     NA        NA           NA     
##  3       2 Bosto~      15 MA     NA     NA        NA           NA     
##  4       1 Oakla~      16 MI     NA     NA        NA           NA     
##  5       1 Unive~      15 MS     NA     NA        NA           NA     
##  6       1 Misso~      16 MO     NA     NA        NA           NA     
##  7       2 Washi~      15 MO     NA     NA        NA           NA     
##  8       1 Monta~      15 MT     NA     NA        NA           NA     
##  9       1 Unive~      16 NE     NA     NA        NA           NA     
## 10       1 Unive~      15 NV     NA     NA        NA           NA     
## # ... with 256 more rows, and 16 more variables: unemp_rate &lt;lgl&gt;,
## #   ugds_white &lt;dbl&gt;, ugds_black &lt;dbl&gt;, ugds_hisp &lt;dbl&gt;, ugds_asian &lt;dbl&gt;,
## #   ugds_aian &lt;dbl&gt;, ugds_nhpi &lt;dbl&gt;, ugds_2mor &lt;dbl&gt;, ugds_nra &lt;dbl&gt;,
## #   ugds_unkn &lt;dbl&gt;, ugds_whitenh &lt;lgl&gt;, ugds_blacknh &lt;lgl&gt;, ugds_api &lt;lgl&gt;,
## #   ugds_aianold &lt;lgl&gt;, ugds_hispold &lt;lgl&gt;, year &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="import.html#cb81-1"></a>D_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2017</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 24
##    control instnm ccbasic stabbr female first_gen poverty_rate veteran
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  &lt;lgl&gt;  &lt;lgl&gt;     &lt;lgl&gt;        &lt;lgl&gt;  
##  1       1 India~      16 IN     NA     NA        NA           NA     
##  2       1 Unive~      15 KS     NA     NA        NA           NA     
##  3       2 Bosto~      15 MA     NA     NA        NA           NA     
##  4       1 Oakla~      16 MI     NA     NA        NA           NA     
##  5       1 Unive~      15 MS     NA     NA        NA           NA     
##  6       1 Misso~      16 MO     NA     NA        NA           NA     
##  7       2 Washi~      15 MO     NA     NA        NA           NA     
##  8       1 Monta~      15 MT     NA     NA        NA           NA     
##  9       1 Unive~      16 NE     NA     NA        NA           NA     
## 10       1 Unive~      15 NV     NA     NA        NA           NA     
## # ... with 256 more rows, and 16 more variables: unemp_rate &lt;lgl&gt;,
## #   ugds_white &lt;dbl&gt;, ugds_black &lt;dbl&gt;, ugds_hisp &lt;dbl&gt;, ugds_asian &lt;dbl&gt;,
## #   ugds_aian &lt;dbl&gt;, ugds_nhpi &lt;dbl&gt;, ugds_2mor &lt;dbl&gt;, ugds_nra &lt;dbl&gt;,
## #   ugds_unkn &lt;dbl&gt;, ugds_whitenh &lt;lgl&gt;, ugds_blacknh &lt;lgl&gt;, ugds_api &lt;lgl&gt;,
## #   ugds_aianold &lt;lgl&gt;, ugds_hispold &lt;lgl&gt;, year &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="import.html#cb83-1"></a>D_<span class="dv">2016</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2016</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 24
##    control instnm ccbasic stabbr female first_gen poverty_rate  veteran
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;     &lt;dbl&gt; &lt;lgl&gt;           &lt;dbl&gt;
##  1       1 India~      16 IN      0.610     0.351 NA            0.00394
##  2       1 Unive~      15 KS      0.548     0.222 NA            0.00429
##  3       2 Bosto~      15 MA      0.519     0.132 NA           NA      
##  4       1 Oakla~      16 MI      0.608     0.324 NA            0.00231
##  5       1 Unive~      15 MS      0.608     0.235 NA            0.00176
##  6       1 Misso~      16 MO      0.241     0.225 NA           NA      
##  7       2 Washi~      15 MO      0.534     0.114 NA           NA      
##  8       1 Monta~      15 MT      0.493     0.233 NA            0.00493
##  9       1 Unive~      16 NE      0.561     0.348 NA            0.00304
## 10       1 Unive~      15 NV      0.597     0.423 NA            0.00521
## # ... with 256 more rows, and 16 more variables: unemp_rate &lt;lgl&gt;,
## #   ugds_white &lt;dbl&gt;, ugds_black &lt;dbl&gt;, ugds_hisp &lt;dbl&gt;, ugds_asian &lt;dbl&gt;,
## #   ugds_aian &lt;dbl&gt;, ugds_nhpi &lt;dbl&gt;, ugds_2mor &lt;dbl&gt;, ugds_nra &lt;dbl&gt;,
## #   ugds_unkn &lt;dbl&gt;, ugds_whitenh &lt;lgl&gt;, ugds_blacknh &lt;lgl&gt;, ugds_api &lt;lgl&gt;,
## #   ugds_aianold &lt;lgl&gt;, ugds_hispold &lt;lgl&gt;, year &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="import.html#cb85-1"></a>D_<span class="dv">2015</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2015</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 24
##    control instnm ccbasic stabbr female first_gen poverty_rate  veteran
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;   &lt;dbl&gt;     &lt;dbl&gt; &lt;lgl&gt;           &lt;dbl&gt;
##  1       1 India~      16 IN      0.607    0.361  NA            0.00390
##  2       1 Unive~      15 KS      0.536    0.226  NA            0.00534
##  3       2 Bosto~      15 MA      0.532    0.125  NA           NA      
##  4       1 Oakla~      16 MI      0.599    0.325  NA            0.00207
##  5       1 Unive~      15 MS      0.613    0.226  NA            0.00209
##  6       1 Misso~      16 MO      0.228    0.226  NA           NA      
##  7       2 Washi~      15 MO      0.541    0.0897 NA           NA      
##  8       1 Monta~      15 MT      0.492    0.231  NA            0.00589
##  9       1 Unive~      16 NE      0.55     0.337  NA            0.00492
## 10       1 Unive~      15 NV      0.586    0.419  NA            0.00573
## # ... with 256 more rows, and 16 more variables: unemp_rate &lt;lgl&gt;,
## #   ugds_white &lt;dbl&gt;, ugds_black &lt;dbl&gt;, ugds_hisp &lt;dbl&gt;, ugds_asian &lt;dbl&gt;,
## #   ugds_aian &lt;dbl&gt;, ugds_nhpi &lt;dbl&gt;, ugds_2mor &lt;dbl&gt;, ugds_nra &lt;dbl&gt;,
## #   ugds_unkn &lt;dbl&gt;, ugds_whitenh &lt;lgl&gt;, ugds_blacknh &lt;lgl&gt;, ugds_api &lt;lgl&gt;,
## #   ugds_aianold &lt;lgl&gt;, ugds_hispold &lt;lgl&gt;, year &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="import.html#cb87-1"></a>Demographics &lt;-<span class="st"> </span><span class="kw">rbind</span>(D_latest, D_<span class="dv">2018</span>, D_<span class="dv">2017</span>, D_<span class="dv">2016</span>, D_<span class="dv">2015</span>)</span></code></pre></div>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="import.html#cb88-1"></a><span class="kw">write.csv</span>(Demographics, <span class="st">&quot;Proj1Data/Demographics15to19.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="death" class="section level3">
<h3><span class="header-section-number">2.2.3</span> Death</h3>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="import.html#cb89-1"></a>Dth_latest &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb89-2"><a href="import.html#cb89-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb89-3"><a href="import.html#cb89-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, death_yr2_rt, lo_inc_death_yr2_rt, md_inc_death_yr2_rt,  hi_inc_death_yr2_rt, death_yr3_rt, lo_inc_death_yr3_rt, md_inc_death_yr3_rt, hi_inc_death_yr3_rt, death_yr4_rt, lo_inc_death_yr4_rt, md_inc_death_yr4_rt, hi_inc_death_yr4_rt, death_yr6_rt, lo_inc_death_yr6_rt, md_inc_death_yr6_rt, hi_inc_death_yr6_rt, death_yr8_rt, lo_inc_death_yr8_rt, md_inc_death_yr8_rt, hi_inc_death_yr8_rt) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb89-4"><a href="import.html#cb89-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="st">&quot;latest&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb89-5"><a href="import.html#cb89-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="import.html#cb94-1"></a>Dth_<span class="dv">2018</span> &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb94-2"><a href="import.html#cb94-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb94-3"><a href="import.html#cb94-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr,death_yr2_rt, lo_inc_death_yr2_rt, md_inc_death_yr2_rt,  hi_inc_death_yr2_rt, death_yr3_rt, lo_inc_death_yr3_rt, md_inc_death_yr3_rt, hi_inc_death_yr3_rt, death_yr4_rt, lo_inc_death_yr4_rt, md_inc_death_yr4_rt, hi_inc_death_yr4_rt, death_yr6_rt, lo_inc_death_yr6_rt, md_inc_death_yr6_rt, hi_inc_death_yr6_rt, death_yr8_rt, lo_inc_death_yr8_rt, md_inc_death_yr8_rt, hi_inc_death_yr8_rt) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb94-4"><a href="import.html#cb94-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="dv">2018</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb94-5"><a href="import.html#cb94-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="import.html#cb99-1"></a>Dth_<span class="dv">2017</span> &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb99-2"><a href="import.html#cb99-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb99-3"><a href="import.html#cb99-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, death_yr2_rt, lo_inc_death_yr2_rt, md_inc_death_yr2_rt,  hi_inc_death_yr2_rt, death_yr3_rt, lo_inc_death_yr3_rt, md_inc_death_yr3_rt, hi_inc_death_yr3_rt, death_yr4_rt, lo_inc_death_yr4_rt, md_inc_death_yr4_rt, hi_inc_death_yr4_rt, death_yr6_rt, lo_inc_death_yr6_rt, md_inc_death_yr6_rt, hi_inc_death_yr6_rt, death_yr8_rt, lo_inc_death_yr8_rt, md_inc_death_yr8_rt, hi_inc_death_yr8_rt) <span class="op">%&gt;%</span></span>
<span id="cb99-4"><a href="import.html#cb99-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="dv">2017</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb99-5"><a href="import.html#cb99-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="import.html#cb104-1"></a>Dth_<span class="dv">2016</span> &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb104-2"><a href="import.html#cb104-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb104-3"><a href="import.html#cb104-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, death_yr2_rt, lo_inc_death_yr2_rt, md_inc_death_yr2_rt,  hi_inc_death_yr2_rt, death_yr3_rt, lo_inc_death_yr3_rt, md_inc_death_yr3_rt, hi_inc_death_yr3_rt, death_yr4_rt, lo_inc_death_yr4_rt, md_inc_death_yr4_rt, hi_inc_death_yr4_rt, death_yr6_rt, lo_inc_death_yr6_rt, md_inc_death_yr6_rt, hi_inc_death_yr6_rt, death_yr8_rt, lo_inc_death_yr8_rt, md_inc_death_yr8_rt, hi_inc_death_yr8_rt) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb104-4"><a href="import.html#cb104-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="dv">2016</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb104-5"><a href="import.html#cb104-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="import.html#cb109-1"></a>Dth_<span class="dv">2015</span> &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb109-2"><a href="import.html#cb109-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(distanceonly <span class="op">==</span><span class="st"> </span><span class="dv">0</span>, ccbasic <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">15</span>, <span class="dv">16</span>)) <span class="op">%&gt;%</span></span>
<span id="cb109-3"><a href="import.html#cb109-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, ccbasic, stabbr, death_yr2_rt, lo_inc_death_yr2_rt, md_inc_death_yr2_rt,  hi_inc_death_yr2_rt, death_yr3_rt, lo_inc_death_yr3_rt, md_inc_death_yr3_rt, hi_inc_death_yr3_rt, death_yr4_rt, lo_inc_death_yr4_rt, md_inc_death_yr4_rt, hi_inc_death_yr4_rt, death_yr6_rt, lo_inc_death_yr6_rt, md_inc_death_yr6_rt, hi_inc_death_yr6_rt, death_yr8_rt, lo_inc_death_yr8_rt, md_inc_death_yr8_rt, hi_inc_death_yr8_rt) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb109-4"><a href="import.html#cb109-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="dv">2015</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb109-5"><a href="import.html#cb109-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 2 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request chunk 2</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="import.html#cb114-1"></a>Dth_latest <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="st">&quot;latest&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 25
##    control instnm ccbasic stabbr death_yr2_rt lo_inc_death_yr~ md_inc_death_yr~
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;lgl&gt;            &lt;lgl&gt;           
##  1       1 India~      16 IN               NA NA               NA              
##  2       1 Unive~      15 KS               NA NA               NA              
##  3       2 Bosto~      15 MA               NA NA               NA              
##  4       1 Oakla~      16 MI               NA NA               NA              
##  5       1 Unive~      15 MS               NA NA               NA              
##  6       1 Misso~      16 MO               NA NA               NA              
##  7       2 Washi~      15 MO               NA NA               NA              
##  8       1 Monta~      15 MT               NA NA               NA              
##  9       1 Unive~      16 NE               NA NA               NA              
## 10       1 Unive~      15 NV               NA NA               NA              
## # ... with 256 more rows, and 18 more variables: hi_inc_death_yr2_rt &lt;lgl&gt;,
## #   death_yr3_rt &lt;dbl&gt;, lo_inc_death_yr3_rt &lt;lgl&gt;, md_inc_death_yr3_rt &lt;lgl&gt;,
## #   hi_inc_death_yr3_rt &lt;lgl&gt;, death_yr4_rt &lt;dbl&gt;, lo_inc_death_yr4_rt &lt;dbl&gt;,
## #   md_inc_death_yr4_rt &lt;dbl&gt;, hi_inc_death_yr4_rt &lt;lgl&gt;, death_yr6_rt &lt;dbl&gt;,
## #   lo_inc_death_yr6_rt &lt;dbl&gt;, md_inc_death_yr6_rt &lt;dbl&gt;,
## #   hi_inc_death_yr6_rt &lt;lgl&gt;, death_yr8_rt &lt;dbl&gt;, lo_inc_death_yr8_rt &lt;dbl&gt;,
## #   md_inc_death_yr8_rt &lt;dbl&gt;, hi_inc_death_yr8_rt &lt;lgl&gt;, year &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="import.html#cb116-1"></a>Dth_<span class="dv">2018</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2018</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 25
##    control instnm ccbasic stabbr death_yr2_rt lo_inc_death_yr~ md_inc_death_yr~
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  &lt;lgl&gt;        &lt;lgl&gt;            &lt;lgl&gt;           
##  1       1 India~      16 IN     NA           NA               NA              
##  2       1 Unive~      15 KS     NA           NA               NA              
##  3       2 Bosto~      15 MA     NA           NA               NA              
##  4       1 Oakla~      16 MI     NA           NA               NA              
##  5       1 Unive~      15 MS     NA           NA               NA              
##  6       1 Misso~      16 MO     NA           NA               NA              
##  7       2 Washi~      15 MO     NA           NA               NA              
##  8       1 Monta~      15 MT     NA           NA               NA              
##  9       1 Unive~      16 NE     NA           NA               NA              
## 10       1 Unive~      15 NV     NA           NA               NA              
## # ... with 256 more rows, and 18 more variables: hi_inc_death_yr2_rt &lt;lgl&gt;,
## #   death_yr3_rt &lt;lgl&gt;, lo_inc_death_yr3_rt &lt;lgl&gt;, md_inc_death_yr3_rt &lt;lgl&gt;,
## #   hi_inc_death_yr3_rt &lt;lgl&gt;, death_yr4_rt &lt;lgl&gt;, lo_inc_death_yr4_rt &lt;lgl&gt;,
## #   md_inc_death_yr4_rt &lt;lgl&gt;, hi_inc_death_yr4_rt &lt;lgl&gt;, death_yr6_rt &lt;lgl&gt;,
## #   lo_inc_death_yr6_rt &lt;lgl&gt;, md_inc_death_yr6_rt &lt;lgl&gt;,
## #   hi_inc_death_yr6_rt &lt;lgl&gt;, death_yr8_rt &lt;lgl&gt;, lo_inc_death_yr8_rt &lt;lgl&gt;,
## #   md_inc_death_yr8_rt &lt;lgl&gt;, hi_inc_death_yr8_rt &lt;lgl&gt;, year &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="import.html#cb118-1"></a>Dth_<span class="dv">2017</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2017</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 25
##    control instnm ccbasic stabbr death_yr2_rt lo_inc_death_yr~ md_inc_death_yr~
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;  &lt;lgl&gt;        &lt;lgl&gt;            &lt;lgl&gt;           
##  1       1 India~      16 IN     NA           NA               NA              
##  2       1 Unive~      15 KS     NA           NA               NA              
##  3       2 Bosto~      15 MA     NA           NA               NA              
##  4       1 Oakla~      16 MI     NA           NA               NA              
##  5       1 Unive~      15 MS     NA           NA               NA              
##  6       1 Misso~      16 MO     NA           NA               NA              
##  7       2 Washi~      15 MO     NA           NA               NA              
##  8       1 Monta~      15 MT     NA           NA               NA              
##  9       1 Unive~      16 NE     NA           NA               NA              
## 10       1 Unive~      15 NV     NA           NA               NA              
## # ... with 256 more rows, and 18 more variables: hi_inc_death_yr2_rt &lt;lgl&gt;,
## #   death_yr3_rt &lt;lgl&gt;, lo_inc_death_yr3_rt &lt;lgl&gt;, md_inc_death_yr3_rt &lt;lgl&gt;,
## #   hi_inc_death_yr3_rt &lt;lgl&gt;, death_yr4_rt &lt;lgl&gt;, lo_inc_death_yr4_rt &lt;lgl&gt;,
## #   md_inc_death_yr4_rt &lt;lgl&gt;, hi_inc_death_yr4_rt &lt;lgl&gt;, death_yr6_rt &lt;lgl&gt;,
## #   lo_inc_death_yr6_rt &lt;lgl&gt;, md_inc_death_yr6_rt &lt;lgl&gt;,
## #   hi_inc_death_yr6_rt &lt;lgl&gt;, death_yr8_rt &lt;lgl&gt;, lo_inc_death_yr8_rt &lt;lgl&gt;,
## #   md_inc_death_yr8_rt &lt;lgl&gt;, hi_inc_death_yr8_rt &lt;lgl&gt;, year &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="import.html#cb120-1"></a>Dth_<span class="dv">2016</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2016</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 25
##    control instnm ccbasic stabbr death_yr2_rt lo_inc_death_yr~ md_inc_death_yr~
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;lgl&gt;            &lt;lgl&gt;           
##  1       1 India~      16 IN               NA NA               NA              
##  2       1 Unive~      15 KS               NA NA               NA              
##  3       2 Bosto~      15 MA               NA NA               NA              
##  4       1 Oakla~      16 MI               NA NA               NA              
##  5       1 Unive~      15 MS               NA NA               NA              
##  6       1 Misso~      16 MO               NA NA               NA              
##  7       2 Washi~      15 MO               NA NA               NA              
##  8       1 Monta~      15 MT               NA NA               NA              
##  9       1 Unive~      16 NE               NA NA               NA              
## 10       1 Unive~      15 NV               NA NA               NA              
## # ... with 256 more rows, and 18 more variables: hi_inc_death_yr2_rt &lt;lgl&gt;,
## #   death_yr3_rt &lt;dbl&gt;, lo_inc_death_yr3_rt &lt;lgl&gt;, md_inc_death_yr3_rt &lt;lgl&gt;,
## #   hi_inc_death_yr3_rt &lt;lgl&gt;, death_yr4_rt &lt;dbl&gt;, lo_inc_death_yr4_rt &lt;dbl&gt;,
## #   md_inc_death_yr4_rt &lt;dbl&gt;, hi_inc_death_yr4_rt &lt;lgl&gt;, death_yr6_rt &lt;dbl&gt;,
## #   lo_inc_death_yr6_rt &lt;dbl&gt;, md_inc_death_yr6_rt &lt;dbl&gt;,
## #   hi_inc_death_yr6_rt &lt;lgl&gt;, death_yr8_rt &lt;dbl&gt;, lo_inc_death_yr8_rt &lt;dbl&gt;,
## #   md_inc_death_yr8_rt &lt;dbl&gt;, hi_inc_death_yr8_rt &lt;lgl&gt;, year &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="import.html#cb122-1"></a>Dth_<span class="dv">2015</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">year =</span> <span class="dv">2015</span>)</span></code></pre></div>
<pre><code>## # A tibble: 266 x 25
##    control instnm ccbasic stabbr death_yr2_rt lo_inc_death_yr~ md_inc_death_yr~
##      &lt;int&gt; &lt;chr&gt;    &lt;int&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;lgl&gt;            &lt;lgl&gt;           
##  1       1 India~      16 IN               NA NA               NA              
##  2       1 Unive~      15 KS               NA NA               NA              
##  3       2 Bosto~      15 MA               NA NA               NA              
##  4       1 Oakla~      16 MI               NA NA               NA              
##  5       1 Unive~      15 MS               NA NA               NA              
##  6       1 Misso~      16 MO               NA NA               NA              
##  7       2 Washi~      15 MO               NA NA               NA              
##  8       1 Monta~      15 MT               NA NA               NA              
##  9       1 Unive~      16 NE               NA NA               NA              
## 10       1 Unive~      15 NV               NA NA               NA              
## # ... with 256 more rows, and 18 more variables: hi_inc_death_yr2_rt &lt;lgl&gt;,
## #   death_yr3_rt &lt;dbl&gt;, lo_inc_death_yr3_rt &lt;lgl&gt;, md_inc_death_yr3_rt &lt;lgl&gt;,
## #   hi_inc_death_yr3_rt &lt;lgl&gt;, death_yr4_rt &lt;dbl&gt;, lo_inc_death_yr4_rt &lt;lgl&gt;,
## #   md_inc_death_yr4_rt &lt;lgl&gt;, hi_inc_death_yr4_rt &lt;lgl&gt;, death_yr6_rt &lt;dbl&gt;,
## #   lo_inc_death_yr6_rt &lt;dbl&gt;, md_inc_death_yr6_rt &lt;lgl&gt;,
## #   hi_inc_death_yr6_rt &lt;lgl&gt;, death_yr8_rt &lt;dbl&gt;, lo_inc_death_yr8_rt &lt;dbl&gt;,
## #   md_inc_death_yr8_rt &lt;lgl&gt;, hi_inc_death_yr8_rt &lt;lgl&gt;, year &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="import.html#cb124-1"></a>Death &lt;-<span class="st"> </span><span class="kw">rbind</span>(Dth_latest, Dth_<span class="dv">2018</span>, Dth_<span class="dv">2017</span>, Dth_<span class="dv">2016</span>, Dth_<span class="dv">2015</span>)</span></code></pre></div>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="import.html#cb125-1"></a><span class="kw">write.csv</span>(Death, <span class="st">&quot;Proj1Data/Death15to19.csv&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="import.html#cb126-1"></a>R1Schools &lt;-<span class="st"> </span><span class="kw">sc_init</span>() <span class="op">%&gt;%</span></span>
<span id="cb126-2"><a href="import.html#cb126-2"></a><span class="st">    </span><span class="kw">sc_filter</span>(ccbasic <span class="op">==</span><span class="st"> </span><span class="dv">15</span>) <span class="op">%&gt;%</span></span>
<span id="cb126-3"><a href="import.html#cb126-3"></a><span class="st">    </span><span class="kw">sc_select</span>(control, instnm, stabbr) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb126-4"><a href="import.html#cb126-4"></a><span class="st">    </span><span class="kw">sc_year</span>(<span class="st">&quot;latest&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb126-5"><a href="import.html#cb126-5"></a><span class="st">    </span><span class="kw">sc_get</span>()</span></code></pre></div>
<pre><code>## Large request will require: 1 additional pulls.</code></pre>
<pre><code>## Request chunk 1</code></pre>
<pre><code>## Request complete!</code></pre>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="import.html#cb130-1"></a><span class="co">#install.packages(&quot;maps&quot;)</span></span>
<span id="cb130-2"><a href="import.html#cb130-2"></a><span class="kw">library</span>(maps)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;maps&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     map</code></pre>
<pre><code>## The following object is masked from &#39;package:plyr&#39;:
## 
##     ozone</code></pre>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="import.html#cb134-1"></a><span class="kw">library</span>(usmap)</span>
<span id="cb134-2"><a href="import.html#cb134-2"></a>debtMedian &lt;-<span class="st"> </span>Finance <span class="op">%&gt;%</span></span>
<span id="cb134-3"><a href="import.html#cb134-3"></a><span class="st">  </span><span class="kw">group_by</span>(stabbr) <span class="op">%&gt;%</span></span>
<span id="cb134-4"><a href="import.html#cb134-4"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">avgDebt =</span> <span class="kw">mean</span>(grad_debt_mdn, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span></span>
<span id="cb134-5"><a href="import.html#cb134-5"></a><span class="st">  </span><span class="kw">select</span>(stabbr, avgDebt)<span class="op">%&gt;%</span></span>
<span id="cb134-6"><a href="import.html#cb134-6"></a><span class="st">  </span><span class="kw">filter</span>(stabbr <span class="op">%notin%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;PR&#39;</span>,<span class="st">&#39;DC&#39;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb134-7"><a href="import.html#cb134-7"></a><span class="st">  </span><span class="kw">ungroup</span>()</span>
<span id="cb134-8"><a href="import.html#cb134-8"></a></span>
<span id="cb134-9"><a href="import.html#cb134-9"></a>debtMedian &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(debtMedian)</span>
<span id="cb134-10"><a href="import.html#cb134-10"></a></span>
<span id="cb134-11"><a href="import.html#cb134-11"></a><span class="kw">colnames</span>(debtMedian) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;state&quot;</span>, <span class="st">&quot;avgDebt&quot;</span>)</span>
<span id="cb134-12"><a href="import.html#cb134-12"></a>debtMedian[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>##      state
## 1       IN
## 2       KS
## 3       MA
## 4       MI
## 5       MS
## 6       MO
## 7       MO
## 8       MT
## 9       NE
## 10      NV
## 11      CO
## 12      CA
## 13      CT
## 14      DE
## 15      FL
## 16      FL
## 17      FL
## 18      HI
## 19      GA
## 20      GA
## 21      OR
## 22      TN
## 23      TX
## 24      TX
## 25      TX
## 26      TX
## 27      CA
## 28      CA
## 29      FL
## 30      GA
## 31      IL
## 32      IL
## 33      IN
## 34      LA
## 35      LA
## 36      VA
## 37      WA
## 38      WV
## 39      WV
## 40      AL
## 41      AK
## 42      AL
## 43      AR
## 44      CA
## 45      CA
## 46      CA
## 47      SC
## 48      TN
## 49      TN
## 50      TX
## 51      TX
## 52      UT
## 53      WI
## 54      ME
## 55      MA
## 56      MA
## 57      MA
## 58      MA
## 59      NY
## 60      NY
## 61      NC
## 62      OH
## 63      CA
## 64      NY
## 65      NY
## 66      NY
## 67      NY
## 68      NC
## 69      OH
## 70      ND
## 71      MI
## 72      NE
## 73      NH
## 74      AZ
## 75      NJ
## 76      NJ
## 77      NJ
## 78      NJ
## 79      OK
## 80      PA
## 81      UT
## 82      VA
## 83      NC
## 84      OH
## 85      OH
## 86      OH
## 87      CA
## 88      CA
## 89      CA
## 90      CA
## 91      CO
## 92      KY
## 93      MI
## 94      NJ
## 95      NM
## 96      FL
## 97      ID
## 98      KS
## 99      LA
## 100     LA
## 101     MD
## 102     MD
## 103     MD
## 104     IL
## 105     IL
## 106     IA
## 107     GA
## 108     GA
## 109     ID
## 110     MA
## 111     MA
## 112     MA
## 113     MI
## 114     MI
## 115     MA
## 116     MA
## 117     AL
## 118     AR
## 119     AR
## 120     CA
## 121     CO
## 122     CO
## 123     AZ
## 124     OK
## 125     PA
## 126     TX
## 127     TX
## 128     TX
## 129     TX
## 130     TX
## 131     VT
## 132     MS
## 133     MO
## 134     NJ
## 135     NY
## 136     NY
## 137     NY
## 138     NY
## 139     NC
## 140     NC
## 141     OH
## 142     OH
## 143     OH
## 144     OH
## 145     OH
## 146     OR
## 147     OR
## 148     PA
## 149     PA
## 150     TN
## 151     WY
## 152     WI
## 153     CA
## 154     VA
## 155     UT
## 156     VA
## 157     RI
## 158     SD
## 159     OK
## 160     PA
## 161     PA
## 162     PA
## 163     TN
## 164     NJ
## 165     NM
## 166     NY
## 167     NY
## 168     NY
## 169     NY
## 170     TN
## 171     TX
## 172     TX
## 173     TX
## 174     TX
## 175     VA
## 176     WA
## 177     KS
## 178     KY
## 179     ME
## 180     MD
## 181     MD
## 182     MA
## 183     MA
## 184     OH
## 185     PA
## 186     CO
## 187     CT
## 188     FL
## 189     FL
## 190     FL
## 191     DE
## 192     NJ
## 193     NJ
## 194     NY
## 195     PA
## 196     PA
## 197     RI
## 198     SC
## 199     SD
## 200     MO
## 201     MO
## 202     MO
## 203     MT
## 204     NH
## 205     NC
## 206     NC
## 207     GA
## 208     FL
## 209     ID
## 210     IL
## 211     IL
## 212     IL
## 213     IN
## 214     GA
## 215     GA
## 216     IL
## 217     IL
## 218     IN
## 219     IA
## 220     CA
## 221     CA
## 222     CA
## 223     CO
## 224     FL
## 225     IL
## 226     LA
## 227     MN
## 228     MI
## 229     MA
## 230     MI
## 231     MI
## 232     MS
## 233     MS
## 234     NV
## 235     NY
## 236     NY
## 237     NY
## 238     NY
## 239     NY
## 240     NC
## 241     NC
## 242     AZ
## 243     OH
## 244     ND
## 245     TX
## 246     TX
## 247     TX
## 248     VA
## 249     VA
## 250     WI
## 251     IN
## 252     AZ
## 253     AZ
## 254     CA
## 255     CA
## 256     OH
## 257     AL
## 258     AL
## 259     IN
## 260     KS
## 261     MA
## 262     MI
## 263     MS
## 264     MO
## 265     MO
## 266     MT
## 267     NE
## 268     NV
## 269     CO
## 270     CA
## 271     CT
## 272     DE
## 273     FL
## 274     FL
## 275     FL
## 276     HI
## 277     GA
## 278     GA
## 279     OR
## 280     TN
## 281     TX
## 282     TX
## 283     TX
## 284     TX
## 285     CA
## 286     CA
## 287     FL
## 288     GA
## 289     IL
## 290     IL
## 291     IN
## 292     LA
## 293     LA
## 294     VA
## 295     WA
## 296     WV
## 297     WV
## 298     AL
## 299     AK
## 300     AL
## 301     AR
## 302     CA
## 303     CA
## 304     CA
## 305     SC
## 306     TN
## 307     TN
## 308     TX
## 309     TX
## 310     UT
## 311     WI
## 312     ME
## 313     MA
## 314     MA
## 315     MA
## 316     MA
## 317     NY
## 318     NY
## 319     NC
## 320     OH
## 321     CA
## 322     NY
## 323     NY
## 324     NY
## 325     NY
## 326     NC
## 327     OH
## 328     ND
## 329     MI
## 330     NE
## 331     NH
## 332     AZ
## 333     NJ
## 334     NJ
## 335     NJ
## 336     NJ
## 337     OK
## 338     PA
## 339     UT
## 340     VA
## 341     NC
## 342     OH
## 343     OH
## 344     OH
## 345     CA
## 346     CA
## 347     CA
## 348     CA
## 349     CO
## 350     KY
## 351     MI
## 352     NJ
## 353     NM
## 354     FL
## 355     ID
## 356     KS
## 357     LA
## 358     LA
## 359     MD
## 360     MD
## 361     MD
## 362     IL
## 363     IL
## 364     IA
## 365     GA
## 366     GA
## 367     ID
## 368     MA
## 369     MA
## 370     MA
## 371     MI
## 372     MI
## 373     MA
## 374     MA
## 375     AL
## 376     AR
## 377     AR
## 378     CA
## 379     CO
## 380     CO
## 381     AZ
## 382     OK
## 383     PA
## 384     TX
## 385     TX
## 386     TX
## 387     TX
## 388     TX
## 389     VT
## 390     MS
## 391     MO
## 392     NJ
## 393     NY
## 394     NY
## 395     NY
## 396     NY
## 397     NC
## 398     NC
## 399     OH
## 400     OH
## 401     OH
## 402     OH
## 403     OH
## 404     OR
## 405     OR
## 406     PA
## 407     PA
## 408     TN
## 409     WY
## 410     WI
## 411     CA
## 412     VA
## 413     UT
## 414     VA
## 415     RI
## 416     SD
## 417     OK
## 418     PA
## 419     PA
## 420     PA
## 421     TN
## 422     NJ
## 423     NM
## 424     NY
## 425     NY
## 426     NY
## 427     NY
## 428     TN
## 429     TX
## 430     TX
## 431     TX
## 432     TX
## 433     VA
## 434     WA
## 435     KS
## 436     KY
## 437     ME
## 438     MD
## 439     MD
## 440     MA
## 441     MA
## 442     OH
## 443     PA
## 444     CO
## 445     CT
## 446     FL
## 447     FL
## 448     FL
## 449     DE
## 450     NJ
## 451     NJ
## 452     NY
## 453     PA
## 454     PA
## 455     RI
## 456     SC
## 457     SD
## 458     MO
## 459     MO
## 460     MO
## 461     MT
## 462     NH
## 463     NC
## 464     NC
## 465     GA
## 466     FL
## 467     ID
## 468     IL
## 469     IL
## 470     IL
## 471     IN
## 472     GA
## 473     GA
## 474     IL
## 475     IL
## 476     IN
## 477     IA
## 478     CA
## 479     CA
## 480     CA
## 481     CO
## 482     FL
## 483     IL
## 484     LA
## 485     MN
## 486     MI
## 487     MA
## 488     MI
## 489     MI
## 490     MS
## 491     MS
## 492     NV
## 493     NY
## 494     NY
## 495     NY
## 496     NY
## 497     NY
## 498     NC
## 499     NC
## 500     AZ
## 501     OH
## 502     ND
## 503     TX
## 504     TX
## 505     TX
## 506     VA
## 507     VA
## 508     WI
## 509     IN
## 510     AZ
## 511     AZ
## 512     CA
## 513     CA
## 514     OH
## 515     AL
## 516     AL
## 517     IN
## 518     KS
## 519     MA
## 520     MI
## 521     MS
## 522     MO
## 523     MO
## 524     MT
## 525     NE
## 526     NV
## 527     CO
## 528     CA
## 529     CT
## 530     DE
## 531     FL
## 532     FL
## 533     FL
## 534     HI
## 535     GA
## 536     GA
## 537     OR
## 538     TN
## 539     TX
## 540     TX
## 541     TX
## 542     TX
## 543     CA
## 544     CA
## 545     FL
## 546     GA
## 547     IL
## 548     IL
## 549     IN
## 550     LA
## 551     LA
## 552     VA
## 553     WA
## 554     WV
## 555     WV
## 556     AL
## 557     AK
## 558     AL
## 559     AR
## 560     CA
## 561     CA
## 562     CA
## 563     SC
## 564     TN
## 565     TN
## 566     TX
## 567     TX
## 568     UT
## 569     WI
## 570     ME
## 571     MA
## 572     MA
## 573     MA
## 574     MA
## 575     NY
## 576     NY
## 577     NC
## 578     OH
## 579     CA
## 580     NY
## 581     NY
## 582     NY
## 583     NY
## 584     NC
## 585     OH
## 586     ND
## 587     MI
## 588     NE
## 589     NH
## 590     AZ
## 591     NJ
## 592     NJ
## 593     NJ
## 594     NJ
## 595     OK
## 596     PA
## 597     UT
## 598     VA
## 599     NC
## 600     OH
## 601     OH
## 602     OH
## 603     CA
## 604     CA
## 605     CA
## 606     CA
## 607     CO
## 608     KY
## 609     MI
## 610     NJ
## 611     NM
## 612     FL
## 613     ID
## 614     KS
## 615     LA
## 616     LA
## 617     MD
## 618     MD
## 619     MD
## 620     IL
## 621     IL
## 622     IA
## 623     GA
## 624     GA
## 625     ID
## 626     MA
## 627     MA
## 628     MA
## 629     MI
## 630     MI
## 631     MA
## 632     MA
## 633     AL
## 634     AR
## 635     AR
## 636     CA
## 637     CO
## 638     CO
## 639     AZ
## 640     OK
## 641     PA
## 642     TX
## 643     TX
## 644     TX
## 645     TX
## 646     TX
## 647     VT
## 648     MS
## 649     MO
## 650     NJ
## 651     NY
## 652     NY
## 653     NY
## 654     NY
## 655     NC
## 656     NC
## 657     OH
## 658     OH
## 659     OH
## 660     OH
## 661     OH
## 662     OR
## 663     OR
## 664     PA
## 665     PA
## 666     TN
## 667     WY
## 668     WI
## 669     CA
## 670     VA
## 671     UT
## 672     VA
## 673     RI
## 674     SD
## 675     OK
## 676     PA
## 677     PA
## 678     PA
## 679     TN
## 680     NJ
## 681     NM
## 682     NY
## 683     NY
## 684     NY
## 685     NY
## 686     TN
## 687     TX
## 688     TX
## 689     TX
## 690     TX
## 691     VA
## 692     WA
## 693     KS
## 694     KY
## 695     ME
## 696     MD
## 697     MD
## 698     MA
## 699     MA
## 700     OH
## 701     PA
## 702     CO
## 703     CT
## 704     FL
## 705     FL
## 706     FL
## 707     DE
## 708     NJ
## 709     NJ
## 710     NY
## 711     PA
## 712     PA
## 713     RI
## 714     SC
## 715     SD
## 716     MO
## 717     MO
## 718     MO
## 719     MT
## 720     NH
## 721     NC
## 722     NC
## 723     GA
## 724     FL
## 725     ID
## 726     IL
## 727     IL
## 728     IL
## 729     IN
## 730     GA
## 731     GA
## 732     IL
## 733     IL
## 734     IN
## 735     IA
## 736     CA
## 737     CA
## 738     CA
## 739     CO
## 740     FL
## 741     IL
## 742     LA
## 743     MN
## 744     MI
## 745     MA
## 746     MI
## 747     MI
## 748     MS
## 749     MS
## 750     NV
## 751     NY
## 752     NY
## 753     NY
## 754     NY
## 755     NY
## 756     NC
## 757     NC
## 758     AZ
## 759     OH
## 760     ND
## 761     TX
## 762     TX
## 763     TX
## 764     VA
## 765     VA
## 766     WI
## 767     IN
## 768     AZ
## 769     AZ
## 770     CA
## 771     CA
## 772     OH
## 773     AL
## 774     AL
## 775     IN
## 776     KS
## 777     MA
## 778     MI
## 779     MS
## 780     MO
## 781     MO
## 782     MT
## 783     NE
## 784     NV
## 785     CO
## 786     CA
## 787     CT
## 788     DE
## 789     FL
## 790     FL
## 791     FL
## 792     HI
## 793     GA
## 794     GA
## 795     OR
## 796     TN
## 797     TX
## 798     TX
## 799     TX
## 800     TX
## 801     CA
## 802     CA
## 803     FL
## 804     GA
## 805     IL
## 806     IL
## 807     IN
## 808     LA
## 809     LA
## 810     VA
## 811     WA
## 812     WV
## 813     WV
## 814     AL
## 815     AK
## 816     AL
## 817     AR
## 818     CA
## 819     CA
## 820     CA
## 821     SC
## 822     TN
## 823     TN
## 824     TX
## 825     TX
## 826     UT
## 827     WI
## 828     ME
## 829     MA
## 830     MA
## 831     MA
## 832     MA
## 833     NY
## 834     NY
## 835     NC
## 836     OH
## 837     CA
## 838     NY
## 839     NY
## 840     NY
## 841     NY
## 842     NC
## 843     OH
## 844     ND
## 845     MI
## 846     NE
## 847     NH
## 848     AZ
## 849     NJ
## 850     NJ
## 851     NJ
## 852     NJ
## 853     OK
## 854     PA
## 855     UT
## 856     VA
## 857     NC
## 858     OH
## 859     OH
## 860     OH
## 861     CA
## 862     CA
## 863     CA
## 864     CA
## 865     CO
## 866     KY
## 867     MI
## 868     NJ
## 869     NM
## 870     FL
## 871     ID
## 872     KS
## 873     LA
## 874     LA
## 875     MD
## 876     MD
## 877     MD
## 878     IL
## 879     IL
## 880     IA
## 881     GA
## 882     GA
## 883     ID
## 884     MA
## 885     MA
## 886     MA
## 887     MI
## 888     MI
## 889     MA
## 890     MA
## 891     AL
## 892     AR
## 893     AR
## 894     CA
## 895     CO
## 896     CO
## 897     AZ
## 898     OK
## 899     PA
## 900     TX
## 901     TX
## 902     TX
## 903     TX
## 904     TX
## 905     VT
## 906     MS
## 907     MO
## 908     NJ
## 909     NY
## 910     NY
## 911     NY
## 912     NY
## 913     NC
## 914     NC
## 915     OH
## 916     OH
## 917     OH
## 918     OH
## 919     OH
## 920     OR
## 921     OR
## 922     PA
## 923     PA
## 924     TN
## 925     WY
## 926     WI
## 927     CA
## 928     VA
## 929     UT
## 930     VA
## 931     RI
## 932     SD
## 933     OK
## 934     PA
## 935     PA
## 936     PA
## 937     TN
## 938     NJ
## 939     NM
## 940     NY
## 941     NY
## 942     NY
## 943     NY
## 944     TN
## 945     TX
## 946     TX
## 947     TX
## 948     TX
## 949     VA
## 950     WA
## 951     KS
## 952     KY
## 953     ME
## 954     MD
## 955     MD
## 956     MA
## 957     MA
## 958     OH
## 959     PA
## 960     CO
## 961     CT
## 962     FL
## 963     FL
## 964     FL
## 965     DE
## 966     NJ
## 967     NJ
## 968     NY
## 969     PA
## 970     PA
## 971     RI
## 972     SC
## 973     SD
## 974     MO
## 975     MO
## 976     MO
## 977     MT
## 978     NH
## 979     NC
## 980     NC
## 981     GA
## 982     FL
## 983     ID
## 984     IL
## 985     IL
## 986     IL
## 987     IN
## 988     GA
## 989     GA
## 990     IL
## 991     IL
## 992     IN
## 993     IA
## 994     CA
## 995     CA
## 996     CA
## 997     CO
## 998     FL
## 999     IL
## 1000    LA
## 1001    MN
## 1002    MI
## 1003    MA
## 1004    MI
## 1005    MI
## 1006    MS
## 1007    MS
## 1008    NV
## 1009    NY
## 1010    NY
## 1011    NY
## 1012    NY
## 1013    NY
## 1014    NC
## 1015    NC
## 1016    AZ
## 1017    OH
## 1018    ND
## 1019    TX
## 1020    TX
## 1021    TX
## 1022    VA
## 1023    VA
## 1024    WI
## 1025    IN
## 1026    AZ
## 1027    AZ
## 1028    CA
## 1029    CA
## 1030    OH
## 1031    AL
## 1032    AL
## 1033    IN
## 1034    KS
## 1035    MA
## 1036    MI
## 1037    MS
## 1038    MO
## 1039    MO
## 1040    MT
## 1041    NE
## 1042    NV
## 1043    CO
## 1044    CA
## 1045    CT
## 1046    DE
## 1047    FL
## 1048    FL
## 1049    FL
## 1050    HI
## 1051    GA
## 1052    GA
## 1053    OR
## 1054    TN
## 1055    TX
## 1056    TX
## 1057    TX
## 1058    TX
## 1059    CA
## 1060    CA
## 1061    FL
## 1062    GA
## 1063    IL
## 1064    IL
## 1065    IN
## 1066    LA
## 1067    LA
## 1068    VA
## 1069    WA
## 1070    WV
## 1071    WV
## 1072    AL
## 1073    AK
## 1074    AL
## 1075    AR
## 1076    CA
## 1077    CA
## 1078    CA
## 1079    SC
## 1080    TN
## 1081    TN
## 1082    TX
## 1083    TX
## 1084    UT
## 1085    WI
## 1086    ME
## 1087    MA
## 1088    MA
## 1089    MA
## 1090    MA
## 1091    NY
## 1092    NY
## 1093    NC
## 1094    OH
## 1095    CA
## 1096    NY
## 1097    NY
## 1098    NY
## 1099    NY
## 1100    NC
## 1101    OH
## 1102    ND
## 1103    MI
## 1104    NE
## 1105    NH
## 1106    AZ
## 1107    NJ
## 1108    NJ
## 1109    NJ
## 1110    NJ
## 1111    OK
## 1112    PA
## 1113    UT
## 1114    VA
## 1115    NC
## 1116    OH
## 1117    OH
## 1118    OH
## 1119    CA
## 1120    CA
## 1121    CA
## 1122    CA
## 1123    CO
## 1124    KY
## 1125    MI
## 1126    NJ
## 1127    NM
## 1128    FL
## 1129    ID
## 1130    KS
## 1131    LA
## 1132    LA
## 1133    MD
## 1134    MD
## 1135    MD
## 1136    IL
## 1137    IL
## 1138    IA
## 1139    GA
## 1140    GA
## 1141    ID
## 1142    MA
## 1143    MA
## 1144    MA
## 1145    MI
## 1146    MI
## 1147    MA
## 1148    MA
## 1149    AL
## 1150    AR
## 1151    AR
## 1152    CA
## 1153    CO
## 1154    CO
## 1155    AZ
## 1156    OK
## 1157    PA
## 1158    TX
## 1159    TX
## 1160    TX
## 1161    TX
## 1162    TX
## 1163    VT
## 1164    MS
## 1165    MO
## 1166    NJ
## 1167    NY
## 1168    NY
## 1169    NY
## 1170    NY
## 1171    NC
## 1172    NC
## 1173    OH
## 1174    OH
## 1175    OH
## 1176    OH
## 1177    OH
## 1178    OR
## 1179    OR
## 1180    PA
## 1181    PA
## 1182    TN
## 1183    WY
## 1184    WI
## 1185    CA
## 1186    VA
## 1187    UT
## 1188    VA
## 1189    RI
## 1190    SD
## 1191    OK
## 1192    PA
## 1193    PA
## 1194    PA
## 1195    TN
## 1196    NJ
## 1197    NM
## 1198    NY
## 1199    NY
## 1200    NY
## 1201    NY
## 1202    TN
## 1203    TX
## 1204    TX
## 1205    TX
## 1206    TX
## 1207    VA
## 1208    WA
## 1209    KS
## 1210    KY
## 1211    ME
## 1212    MD
## 1213    MD
## 1214    MA
## 1215    MA
## 1216    OH
## 1217    PA
## 1218    CO
## 1219    CT
## 1220    FL
## 1221    FL
## 1222    FL
## 1223    DE
## 1224    NJ
## 1225    NJ
## 1226    NY
## 1227    PA
## 1228    PA
## 1229    RI
## 1230    SC
## 1231    SD
## 1232    MO
## 1233    MO
## 1234    MO
## 1235    MT
## 1236    NH
## 1237    NC
## 1238    NC
## 1239    GA
## 1240    FL
## 1241    ID
## 1242    IL
## 1243    IL
## 1244    IL
## 1245    IN
## 1246    GA
## 1247    GA
## 1248    IL
## 1249    IL
## 1250    IN
## 1251    IA
## 1252    CA
## 1253    CA
## 1254    CA
## 1255    CO
## 1256    FL
## 1257    IL
## 1258    LA
## 1259    MN
## 1260    MI
## 1261    MA
## 1262    MI
## 1263    MI
## 1264    MS
## 1265    MS
## 1266    NV
## 1267    NY
## 1268    NY
## 1269    NY
## 1270    NY
## 1271    NY
## 1272    NC
## 1273    NC
## 1274    AZ
## 1275    OH
## 1276    ND
## 1277    TX
## 1278    TX
## 1279    TX
## 1280    VA
## 1281    VA
## 1282    WI
## 1283    IN
## 1284    AZ
## 1285    AZ
## 1286    CA
## 1287    CA
## 1288    OH
## 1289    AL
## 1290    AL</code></pre>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="import.html#cb136-1"></a><span class="kw">plot_usmap</span>(<span class="dt">data =</span>debtMedian, <span class="dt">values =</span> <span class="st">&quot;avgDebt&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb136-2"><a href="import.html#cb136-2"></a><span class="st">  </span><span class="kw">scale_fill_continuous</span>(</span>
<span id="cb136-3"><a href="import.html#cb136-3"></a>    <span class="dt">low =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">high =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">name =</span> <span class="st">&quot;Average Debt Median&quot;</span>, <span class="dt">label =</span> scales<span class="op">::</span>comma</span>
<span id="cb136-4"><a href="import.html#cb136-4"></a>  ) <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;right&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Use of `map_df$x` is discouraged. Use `x` instead.</code></pre>
<pre><code>## Warning: Use of `map_df$y` is discouraged. Use `y` instead.</code></pre>
<pre><code>## Warning: Use of `map_df$group` is discouraged. Use `group` instead.</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="import.html#cb140-1"></a>FacSalary &lt;-<span class="st"> </span>Finance <span class="op">%&gt;%</span></span>
<span id="cb140-2"><a href="import.html#cb140-2"></a><span class="st">  </span><span class="kw">group_by</span>(stabbr) <span class="op">%&gt;%</span></span>
<span id="cb140-3"><a href="import.html#cb140-3"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">avgSal =</span> <span class="kw">mean</span>(avgfacsal, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)) <span class="op">%&gt;%</span></span>
<span id="cb140-4"><a href="import.html#cb140-4"></a><span class="st">  </span><span class="kw">select</span>(stabbr, avgSal) <span class="op">%&gt;%</span></span>
<span id="cb140-5"><a href="import.html#cb140-5"></a><span class="st">  </span><span class="kw">filter</span>(stabbr <span class="op">%notin%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;PR&#39;</span>,<span class="st">&#39;DC&#39;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb140-6"><a href="import.html#cb140-6"></a><span class="st">  </span><span class="kw">ungroup</span>()</span>
<span id="cb140-7"><a href="import.html#cb140-7"></a></span>
<span id="cb140-8"><a href="import.html#cb140-8"></a>FacSalary &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(FacSalary)</span>
<span id="cb140-9"><a href="import.html#cb140-9"></a></span>
<span id="cb140-10"><a href="import.html#cb140-10"></a><span class="kw">colnames</span>(FacSalary) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;state&quot;</span>, <span class="st">&quot;avgSal&quot;</span>)</span>
<span id="cb140-11"><a href="import.html#cb140-11"></a></span>
<span id="cb140-12"><a href="import.html#cb140-12"></a><span class="kw">plot_usmap</span>(<span class="dt">data =</span>FacSalary, <span class="dt">values =</span> <span class="st">&quot;avgSal&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb140-13"><a href="import.html#cb140-13"></a><span class="st">  </span><span class="kw">scale_fill_continuous</span>(<span class="dt">low =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">high =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">name =</span> <span class="st">&quot;Average Faculty Salary&quot;</span>, <span class="dt">label =</span> scales<span class="op">::</span>comma) <span class="op">+</span><span class="st"> </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;right&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Use of `map_df$x` is discouraged. Use `x` instead.</code></pre>
<pre><code>## Warning: Use of `map_df$y` is discouraged. Use `y` instead.</code></pre>
<pre><code>## Warning: Use of `map_df$group` is discouraged. Use `group` instead.</code></pre>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="import.html#cb144-1"></a>Finance <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">filter</span>(year <span class="op">==</span><span class="st"> &quot;lastest&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 0 x 11
## # ... with 11 variables: control &lt;int&gt;, instnm &lt;chr&gt;, ccbasic &lt;int&gt;,
## #   stabbr &lt;chr&gt;, npt4_pub &lt;int&gt;, npt4_priv &lt;int&gt;, costt4_a &lt;int&gt;,
## #   grad_debt_mdn &lt;dbl&gt;, avgfacsal &lt;int&gt;, unemp_rate &lt;dbl&gt;, year &lt;chr&gt;</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="clean.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-ImportMethods.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
